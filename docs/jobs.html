---

title: Title

keywords: fastai
sidebar: home_sidebar



---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_jobs.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Jobs-Management">Jobs Management<a class="anchor-link" href="#Jobs-Management"> </a></h3><blockquote><p>This module define helper functions to obtain connection to Dask and a bunch of dataclasses to communicate Job execution between different steps of the training pipeline.</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_client_async" class="doc_header"><code>get_client_async</code><a href="https://github.com/leosmerling/fraud_poc/tree/master/fraud_poc/jobs.py#L14" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_client_async</code>(<strong><code>context</code></strong>:<code>Optional</code>[<code>EventContext</code>]=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_client" class="doc_header"><code>get_client</code><a href="https://github.com/leosmerling/fraud_poc/tree/master/fraud_poc/jobs.py#L23" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_client</code>(<strong><code>context</code></strong>:<code>Optional</code>[<code>EventContext</code>]=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="MakeSampleDataJob" class="doc_header"><code>class</code> <code>MakeSampleDataJob</code><a href="https://github.com/leosmerling/fraud_poc/tree/master/fraud_poc/jobs.py#L37" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>MakeSampleDataJob</code>(<strong><code>path</code></strong>:<code>str</code>, <strong><code>num_batches</code></strong>:<code>int</code>=<em><code>0</code></em>, <strong><code>batch_size</code></strong>:<code>int</code>=<em><code>0</code></em>, <strong><code>batch_span_days</code></strong>:<code>int</code>=<em><code>0</code></em>, <strong><code>num_customers</code></strong>:<code>int</code>=<em><code>0</code></em>, <strong><code>num_emails</code></strong>:<code>int</code>=<em><code>0</code></em>, <strong><code>num_ips</code></strong>:<code>int</code>=<em><code>0</code></em>) :: <code>JsonSchemaMixin</code></p>
</blockquote>
<p>MakeSampleDataJob(path: str, num_batches: int = 0, batch_size: int = 0, batch_span_days: int = 0, num_customers: int = 0, num_emails: int = 0, num_ips: int = 0)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="PreprocessingJob" class="doc_header"><code>class</code> <code>PreprocessingJob</code><a href="https://github.com/leosmerling/fraud_poc/tree/master/fraud_poc/jobs.py#L49" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>PreprocessingJob</code>(<strong><code>source</code></strong>:<code>str</code>, <strong><code>partitioned</code></strong>:<code>Dict</code>[<code>str</code>, <code>str</code>]=<em><code>&lt;factory&gt;</code></em>) :: <code>JsonSchemaMixin</code></p>
</blockquote>
<p>PreprocessingJob(source: str, partitioned: Dict[str, str] = <factory>)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="FeatureCalcJob" class="doc_header"><code>class</code> <code>FeatureCalcJob</code><a href="https://github.com/leosmerling/fraud_poc/tree/master/fraud_poc/jobs.py#L56" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>FeatureCalcJob</code>(<strong><code>sources</code></strong>:<code>Dict</code>[<code>str</code>, <code>str</code>]=<em><code>&lt;factory&gt;</code></em>, <strong><code>features</code></strong>:<code>Dict</code>[<code>str</code>, <code>str</code>]=<em><code>&lt;factory&gt;</code></em>) :: <code>JsonSchemaMixin</code></p>
</blockquote>
<p>FeatureCalcJob(sources: Dict[str, str] = <factory>, features: Dict[str, str] = <factory>)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TrainingDataJob" class="doc_header"><code>class</code> <code>TrainingDataJob</code><a href="https://github.com/leosmerling/fraud_poc/tree/master/fraud_poc/jobs.py#L63" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TrainingDataJob</code>(<strong><code>sources</code></strong>:<code>Dict</code>[<code>str</code>, <code>str</code>], <strong><code>sampled</code></strong>:<code>str</code>, <strong><code>validation</code></strong>:<code>str</code>) :: <code>JsonSchemaMixin</code></p>
</blockquote>
<p>TrainingDataJob(sources: Dict[str, str], sampled: str, validation: str)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TrainModelJob" class="doc_header"><code>class</code> <code>TrainModelJob</code><a href="https://github.com/leosmerling/fraud_poc/tree/master/fraud_poc/jobs.py#L71" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TrainModelJob</code>(<strong><code>train_data</code></strong>:<code>str</code>, <strong><code>validation_data</code></strong>:<code>str</code>, <strong><code>model_path</code></strong>:<code>str</code>, <strong><code>evals</code></strong>:<code>Dict</code>[<code>str</code>, <code>Any</code>]=<em><code>&lt;factory&gt;</code></em>, <strong><code>test_roc_curve</code></strong>:<code>Dict</code>[<code>float</code>, <code>float</code>]=<em><code>&lt;factory&gt;</code></em>, <strong><code>validation_score</code></strong>:<code>Dict</code>[<code>str</code>, <code>float</code>]=<em><code>&lt;factory&gt;</code></em>) :: <code>JsonSchemaMixin</code></p>
</blockquote>
<p>TrainModelJob(train_data: str, validation_data: str, model_path: str, evals: Dict[str, Any] = <factory>, test_roc_curve: Dict[float, float] = <factory>, validation_score: Dict[str, float] = <factory>)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="PrepareDbJob" class="doc_header"><code>class</code> <code>PrepareDbJob</code><a href="https://github.com/leosmerling/fraud_poc/tree/master/fraud_poc/jobs.py#L82" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>PrepareDbJob</code>(<strong><code>features</code></strong>:<code>Dict</code>[<code>str</code>, <code>str</code>], <strong><code>db</code></strong>:<code>str</code>, <strong><code>saved</code></strong>:<code>Dict</code>[<code>str</code>, <code>Any</code>]) :: <code>JsonSchemaMixin</code></p>
</blockquote>
<p>PrepareDbJob(features: Dict[str, str], db: str, saved: Dict[str, Any])</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

