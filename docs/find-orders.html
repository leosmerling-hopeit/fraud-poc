---

title: Title

keywords: fastai
sidebar: home_sidebar



---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 09_find-orders.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Find-Orders">Find Orders<a class="anchor-link" href="#Find-Orders"> </a></h3><blockquote><p>Convenience endpoint to find order examples in Redis database</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="scan_db" class="doc_header"><code>scan_db</code><a href="https://github.com/leosmerling/fraud_poc/tree/master/fraud_poc/test/find_orders.py#L43" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>scan_db</code>(<strong><code>payload</code></strong>:<code>None</code>, <strong><code>context</code></strong>:<code>EventContext</code>, <strong><code>prefix</code></strong>:<code>str</code>, <strong><code>num_items</code></strong>:<code>int</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Test-from-notebook">Test from notebook<a class="anchor-link" href="#Test-from-notebook"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">hopeit.testing.apps</span> <span class="kn">import</span> <span class="n">config</span><span class="p">,</span> <span class="n">execute_event</span>
<span class="kn">from</span> <span class="nn">fraud_poc.live.predict</span> <span class="kn">import</span> <span class="n">OrderInfo</span>
<span class="kn">import</span> <span class="nn">uuid</span>
 
<span class="k">def</span> <span class="nf">new_key</span><span class="p">():</span> <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())</span>

<span class="n">app_config</span> <span class="o">=</span> <span class="n">config</span><span class="p">(</span><span class="s1">&#39;config/fraud-service.json&#39;</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">execute_event</span><span class="p">(</span><span class="n">app_config</span><span class="p">,</span> <span class="s1">&#39;test.find_orders&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="n">num_items</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">result</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2020-07-08 15:28:03,965 | INFO | fraud-poc 0.0.1-service test.find_orders leos13 29778 | Connecting to database redis://localhost:6379... | track.operation_id=test_operation_id | track.request_id=test_request_id | track.request_ts=2020-07-08T15:28:03.965054+00:00
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[b&#39;7545576ffe1b7c1d9d8d2e82d0191fa057df695f&#39;, b&#39;71264e73-3061-4990-8297-6c09314b1a9d&#39;, b&#39;b1f59a4bd99f595478e4259a6e3576d1081cbee8&#39;, b&#39;fraud_poc.0x0x1_training.data.feature_calc&#39;, b&#39;d16ed4b6-6e6f-4788-b45b-acd6609d7649&#39;, b&#39;fraud_poc.0x0x1_training.data.make_sample_data.submit_job&#39;, b&#39;fc55c49c955c439eff004e08ddc5c35e59023a6a&#39;, b&#39;a7163f535fb73b3f8de90ca74387b22dc68276c3&#39;, b&#39;63f6259e971adaf70ad742be1a1707b48712c02b&#39;, b&#39;0ccf564669e982312eec408bb103ae929a01c7e6&#39;]
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[OrderInfo(order_id=&#39;ce4798f5-6127-4d6e-bf1d-dda810eab26b&#39;, customer_id=&#39;271d8c5e-e4e3-4377-a3e3-673ccf153664&#39;, order_date=datetime.datetime(2020, 7, 7, 6, 33, 18, tzinfo=tzutc()), email=&#39;7545576ffe1b7c1d9d8d2e82d0191fa057df695f&#39;, ip_addr=&#39;f95e9c978b7f88dde5b9eb39417070251603db2d&#39;, order_amount=916.7097195892065, location_lat=0.0, location_long=0.0),
 OrderInfo(order_id=&#39;eca4330a-9f6e-44dd-aea8-f8d7c54c8950&#39;, customer_id=&#39;71264e73-3061-4990-8297-6c09314b1a9d&#39;, order_date=datetime.datetime(2020, 7, 4, 23, 27, 45, tzinfo=tzutc()), email=&#39;9fc4829456e3666af2644e22dda27036f1bd95c6&#39;, ip_addr=&#39;68bf5c2a7d0cc0107eebaaf105ecef8faf51b812&#39;, order_amount=824.7756099864736, location_lat=0.0, location_long=0.0),
 OrderInfo(order_id=&#39;0f4de1e7-ae83-47fb-a45c-98da4e399b4b&#39;, customer_id=&#39;1faf28b9-0dff-47f1-bcd8-689053805b16&#39;, order_date=datetime.datetime(2020, 7, 6, 10, 59, 28, tzinfo=tzutc()), email=&#39;b1f59a4bd99f595478e4259a6e3576d1081cbee8&#39;, ip_addr=&#39;95c99f65815f00f09a3fb62f129f4a80adce6301&#39;, order_amount=441.15932965006243, location_lat=0.0, location_long=0.0),
 OrderInfo(order_id=&#39;5d7b5152-b750-461c-a8b4-ea14d1e43f0f&#39;, customer_id=&#39;d16ed4b6-6e6f-4788-b45b-acd6609d7649&#39;, order_date=datetime.datetime(2020, 7, 8, 3, 26, 30, tzinfo=tzutc()), email=&#39;28621e956af371c3bbc1c77c3d50510b9619975a&#39;, ip_addr=&#39;447f3c92f2f7bb012279ad8d46d84d68fcde9e5c&#39;, order_amount=125.26160318048329, location_lat=0.0, location_long=0.0),
 OrderInfo(order_id=&#39;2cff1ff4-dabb-4f6f-8efa-5328079eb2d0&#39;, customer_id=&#39;be2952c2-557c-4a04-9614-604293f04f30&#39;, order_date=datetime.datetime(2020, 7, 7, 5, 52, 3, tzinfo=tzutc()), email=&#39;fc55c49c955c439eff004e08ddc5c35e59023a6a&#39;, ip_addr=&#39;c1308587f69bd0482ecf0b8d04fd3d99608e9082&#39;, order_amount=264.0354901345052, location_lat=0.0, location_long=0.0),
 OrderInfo(order_id=&#39;2b27318e-9223-4a33-846e-36c8fa3a66c5&#39;, customer_id=&#39;d9f05eff-5637-45d5-af04-4968d41068ca&#39;, order_date=datetime.datetime(2020, 7, 5, 10, 29, 6, tzinfo=tzutc()), email=&#39;a7163f535fb73b3f8de90ca74387b22dc68276c3&#39;, ip_addr=&#39;769d1de62792555a835f8b1fa73b1f4f463a2316&#39;, order_amount=755.973509308957, location_lat=0.0, location_long=0.0),
 OrderInfo(order_id=&#39;0325e9a9-b24d-4870-bc30-b3abbf89d951&#39;, customer_id=&#39;68cce351-43e0-46f2-b559-e21c7f4ac056&#39;, order_date=datetime.datetime(2020, 6, 29, 2, 20, 18, tzinfo=tzutc()), email=&#39;63f6259e971adaf70ad742be1a1707b48712c02b&#39;, ip_addr=&#39;dcb7d5769abe26524f5bdb379fc84cc93e41cce1&#39;, order_amount=319.6287775874658, location_lat=0.0, location_long=0.0),
 OrderInfo(order_id=&#39;11b4e84c-00ef-4df2-885d-0d43dfcaef8d&#39;, customer_id=&#39;7e529745-903b-4ada-87b5-2f8e109a74b9&#39;, order_date=datetime.datetime(2020, 7, 4, 19, 31, 48, tzinfo=tzutc()), email=&#39;0ccf564669e982312eec408bb103ae929a01c7e6&#39;, ip_addr=&#39;c9401720b5df98d10e3d8f4b9c0d5b968b770eb8&#39;, order_amount=943.9676441188888, location_lat=0.0, location_long=0.0)]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

